(this["webpackJsonpe-commerce-shop"]=this["webpackJsonpe-commerce-shop"]||[]).push([[0],{142:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n(12),r=n.n(a),i=n(176),s=n(178),o=n(59),u=n(179),l=n(180),d=n(181),j=n.p+"static/media/commerce.457bea4f.png",b=n(13),p=n(173),O=n(21),f=Object(p.a)((function(t){return{appBar:Object(b.a)({boxShadow:"none",borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},t.breakpoints.up("sm"),{width:"calc(100% - ".concat(0,"px)"),marginLeft:0}),title:{flexGrow:1,alignItems:"center",display:"flex",textDecoration:"none"},image:{marginRight:"10px"},menuButton:Object(b.a)({marginRight:t.spacing(2)},t.breakpoints.up("sm"),{display:"none"}),grow:{flexGrow:1},search:Object(b.a)({position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:Object(O.b)(t.palette.common.white,.15),"&:hover":{backgroundColor:Object(O.b)(t.palette.common.white,.25)},marginRight:t.spacing(2),marginLeft:0,width:"100%"},t.breakpoints.up("sm"),{width:"auto"}),searchIcon:{padding:t.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(b.a)({padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),"px)"),transition:t.transitions.create("width"),width:"100%"},t.breakpoints.up("md"),{width:"20ch"})}})),h=n(7),m=n(17),x=n(22),g=n(2);var v=function(){var t=Object(h.c)((function(t){return t.cart.totalCount})),e=Object(m.g)(),n=f();return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(i.a,{position:"fixed",className:n.appBar,color:"inherit",children:Object(g.jsxs)(s.a,{children:[Object(g.jsxs)(o.a,{component:x.b,to:"/",variant:"h6",className:n.title,color:"inherit",children:[Object(g.jsx)("img",{src:j,alt:"Commerce",height:"25px",className:n.image}),"\u0406\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u043c\u0430\u0433\u0430\u0437\u0438\u043d"]}),Object(g.jsx)("div",{className:n.grow}),Object(g.jsx)("div",{className:n.button,children:"/"===e.pathname&&Object(g.jsx)(u.a,{component:x.b,to:"/cart","aria-label":"Show cart items",color:"inherit",children:Object(g.jsx)(l.a,{badgeContent:t,color:"secondary",children:Object(g.jsx)(d.a,{})})})})]})})})},y=n(192),S=n(182),w=n(183),E=n(184),C=n(185),_=n(186),k=Object(p.a)((function(){return{root:{maxWidth:"100%"},media:{height:0,paddingTop:"56.25%"},cardActions:{dispay:"flex",justifyContent:"flex-end"},cardContent:{display:"flex",justifyContent:"space-between"}}})),T=function(t){var e=t.id,n=t.name,c=t.image,a=t.description,r=t.price,i=t.onAddToCart,s=Object(h.b)(),l=k();return Object(g.jsxs)(S.a,{className:l.root,children:[Object(g.jsx)(x.b,{to:"products/".concat(e),children:Object(g.jsx)(w.a,{className:l.media,image:c,title:n})}),Object(g.jsxs)(E.a,{children:[Object(g.jsxs)("div",{className:l.cardContent,children:[Object(g.jsx)(o.a,{variant:"h5",gutterBottom:!0,children:n}),Object(g.jsxs)(o.a,{variant:"h5",children:["\u20b4",r]})]}),Object(g.jsx)(o.a,{variant:"body2",color:"textSecondary",children:a.replace(/<\/?[a-zA-Z]+>/gi,"")})]}),Object(g.jsx)(C.a,{disableSpacing:!0,className:l.cardActions,children:Object(g.jsx)(u.a,{"aria-label":"Add to Cart",onClick:function(){return i(s,e,1)},children:Object(g.jsx)(_.a,{})})})]})},N=n(187),R=n(201),D=n(199),A=n(191),I=Object(p.a)((function(){return{formControl:{marginBottom:"34px",maxWidth:"320px",width:"100%"}}})),L=n(9),B=n.n(L),P=n(15),F=n(86),U=new(n.n(F).a)("pk_test_2475761b869d51f49c6845ff1d6c590a946d2ef4eef89",!0),W=function(t){return{type:"SET_PRODUCTS",payload:t}},q=function(t){return{type:"SET_CART",payload:t}},G=function(t){return{type:"SET_OPTIONS",payload:t}},z=function(){var t=Object(P.a)(B.a.mark((function t(e){var n,c,a=arguments;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:[],t.next=3,U.products.list({category_slug:"all"===n?[]:[n]}).catch((function(t){return console.log("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u0456 \u0442\u043e\u0432\u0430\u0440\u0456\u0432: ".concat(t))}));case 3:c=t.sent,e(W(c.data));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),V=function(){var t=Object(P.a)(B.a.mark((function t(e){var n;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U.cart.retrieve().catch((function(t){return console.log("Error: ".concat(t))}));case 2:n=t.sent,e(q(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),J=function(){var t=Object(P.a)(B.a.mark((function t(e,n,c){var a;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U.cart.add(n,c);case 2:a=t.sent,e(q(a.cart));case 4:case"end":return t.stop()}}),t)})));return function(e,n,c){return t.apply(this,arguments)}}(),K=function(){var t=Object(P.a)(B.a.mark((function t(e,n,c){var a;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U.cart.update(n,{quantity:c});case 2:a=t.sent,e(q(a.cart));case 4:case"end":return t.stop()}}),t)})));return function(e,n,c){return t.apply(this,arguments)}}(),M=function(){var t=Object(P.a)(B.a.mark((function t(e,n){var c;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U.cart.remove(n);case 2:c=t.sent,e(q(c.cart));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),X=function(){var t=Object(P.a)(B.a.mark((function t(e){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U.cart.empty();case 2:t.sent,e({type:"CLEAR_CART"});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),H=function(){var t=Object(P.a)(B.a.mark((function t(e,n){var c;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U.checkout.generateToken(n,{type:"cart"}).catch((function(t){return console.log("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u0444\u043e\u0440\u043c\u0443\u0432\u0430\u043d\u0456 \u0422\u041e\u041a\u0415\u041d\u0410: ".concat(t))}));case 2:c=t.sent,e({type:"SET_TOKEN",payload:c});case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Z=function(){var t=Object(P.a)(B.a.mark((function t(e,n){var c;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U.services.localeListShippingCountries(n).catch((function(t){return console.log("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u0440\u043c\u0430\u043d\u043d\u0456 \u0441\u043f\u0438\u0441\u043a\u0443 \u043a\u0440\u0430\u0457\u043d: ".concat(t))}));case 2:c=t.sent,e({type:"GET_COUNTRIES",payload:c.countries});case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Q=function(){var t=Object(P.a)(B.a.mark((function t(e,n){var c;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U.services.localeListSubdivisions(n).catch((function(t){return console.log("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u0440\u043c\u0430\u043d\u043d\u0456 \u0440\u0435\u0433\u0456\u043e\u043d\u0456\u0432 \u043a\u0440\u0430\u0457\u043d\u0438: ".concat(t))}));case 2:c=t.sent,e({type:"SET_SUBDIVISIONS",payload:c.subdivisions});case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Y=function(){var t=Object(P.a)(B.a.mark((function t(e,n,c){var a,r=arguments;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.length>3&&void 0!==r[3]?r[3]:null,t.next=3,U.checkout.getShippingOptions(n,{country:c}).catch((function(t){return console.log("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u0440\u043c\u0430\u043d\u043d\u0456 \u0442\u0438\u043f\u0443 \u0456 \u0432\u0430\u0440\u0442\u043e\u0441\u0442\u0456 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438: ".concat(t))}));case 3:a=t.sent,e(G(a));case 5:case"end":return t.stop()}}),t)})));return function(e,n,c){return t.apply(this,arguments)}}(),$=function(){var t=Object(P.a)(B.a.mark((function t(e){var n;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U.cart.refresh().catch((function(t){return console.log("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043e\u043d\u043e\u0432\u043b\u0435\u043d\u0456 \u043a\u043e\u0448\u0438\u043a\u0430: ".concat(t))}));case 2:n=t.sent,e(q(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),tt=function(){var t=Object(P.a)(B.a.mark((function t(e,n,c){var a;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U.checkout.capture(n,c).catch((function(t){return console.log("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u0444\u043e\u0440\u043c\u0443\u0432\u0430\u043d\u0456 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f: ".concat(t))}));case 2:a=t.sent,e({type:"SET_ORDER",payload:a}),$(e);case 5:case"end":return t.stop()}}),t)})));return function(e,n,c){return t.apply(this,arguments)}}(),et=function(){var t=Object(P.a)(B.a.mark((function t(e){var n;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U.categories.retrieve([],{type:"slug"}).catch((function(t){return console.log("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u0456 \u0441\u043f\u0438\u0441\u043a\u0443 \u0444\u0456\u043b\u044c\u0442\u0440\u0456\u0432: ".concat(t))}));case 2:n=t.sent,e({type:"SET_FILTERS",payload:n.data});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),nt=function(){var t=I(),e=Object(h.b)(),n=Object(h.c)((function(t){return t.filter.filters})),a=Object(h.c)((function(t){return t.filter.activeFilter}));return Object(c.useEffect)((function(){z(e,a)}),[a]),Object(g.jsxs)(N.a,{variant:"outlined",className:t.formControl,children:[Object(g.jsx)(R.a,{htmlFor:"outlined-filter-native-simple",children:"\u0424\u0456\u043b\u044c\u0442\u0440\u0430\u0446\u0456\u044f"}),Object(g.jsx)(D.a,{defaultValue:"all",onChange:function(t){return e({type:"SET_ACTIVE_FILTER",payload:t.target.value})},inputProps:{id:"outlined-filter-native-simple"},children:n&&n.map((function(t,e){return Object(g.jsx)(A.a,{value:t.slug,children:t.name},"".concat(t.slug,"_").concat(e))}))})]})},ct=Object(p.a)((function(t){return{toolbar:t.mixins.toolbar,content:{flexGrow:1,backgroundColor:t.palette.background.default,padding:t.spacing(3)},root:{flexGrow:1}}})),at=function(){var t=Object(h.c)((function(t){return t.products.items})),e=Object(h.c)((function(t){return t.products.isLoaded})),n=ct();return Object(g.jsxs)("main",{className:n.content,children:[Object(g.jsx)("div",{className:n.toolbar}),Object(g.jsx)(nt,{}),Object(g.jsx)(y.a,{container:!0,justify:"center",spacing:4,children:e&&t.map((function(t,e){return Object(g.jsx)(y.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(g.jsx)(T,{id:t.id,name:t.name,image:t.media.source,description:t.description,price:t.price.raw,onAddToCart:J})},"".concat(t.id,"_").concat(e))}))})]})},rt=n(193),it=Object(p.a)((function(t){var e;return{toolbar:t.mixins.toolbar,title:{marginTop:"5%"},emptyButton:(e={minWidth:"150px"},Object(b.a)(e,t.breakpoints.down("xs"),{marginBottom:"5px"}),Object(b.a)(e,t.breakpoints.up("xs"),{marginRight:"20px"}),e),checkoutButton:{minWidth:"150px"},link:{textDecoration:"none"},cardDetails:{display:"flex",marginTop:"10%",width:"100%",justifyContent:"space-between"}}})),st=function(){var t=it(),e=Object(h.c)((function(t){return!t.cart.items.length}));return Object(g.jsxs)(rt.a,{children:[Object(g.jsx)("div",{className:t.toolbar}),Object(g.jsx)(o.a,{variant:"h3",className:t.title,gutterBottom:!0,children:"\u041a\u043e\u0448\u0438\u043a"}),e?Object(g.jsx)(ut,{}):Object(g.jsx)(jt,{})]})},ot=Object(p.a)((function(){return{link:{textDecoration:"none"}}})),ut=function(){var t=ot();return Object(g.jsxs)(o.a,{variant:"subtitle",children:["\u0414\u043b\u044f \u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0433\u043e \u043a\u0440\u043e\u043a\u0443 \u043e\u0431\u0435\u0440\u0456\u0442\u044c \u0431\u0430\u0436\u0430\u043d\u0456 \u0442\u043e\u0432\u0430\u0440\u0438!",Object(g.jsx)(x.b,{to:"/",className:t.link,children:"\u0414\u043e \u0441\u043f\u0438\u0441\u043a\u0443 \u0442\u043e\u0432\u0430\u0440\u0456\u0432!"})]})},lt=n(194),dt=Object(p.a)((function(t){var e;return{toolbar:t.mixins.toolbar,title:{marginTop:"5%"},emptyButton:(e={minWidth:"150px"},Object(b.a)(e,t.breakpoints.down("xs"),{marginBottom:"5px"}),Object(b.a)(e,t.breakpoints.up("xs"),{marginRight:"20px"}),e),checkoutButton:{minWidth:"150px"},link:{textDecoration:"none"},cardDetails:{display:"flex",marginTop:"10%",width:"100%",justifyContent:"space-between"}}})),jt=function(){var t=Object(h.b)(),e=dt(),n=Object(h.c)((function(t){return t.cart.items})),c=Object(h.c)((function(t){return t.cart.totalPrice}));return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(y.a,{container:!0,spacing:3,children:n.map((function(t,e){return Object(g.jsx)(y.a,{item:!0,xs:12,sm:4,children:Object(g.jsx)(pt,{id:t.id,name:t.product_name,image:t.media.source,price:t.price.raw,count:t.quantity})},"".concat(t.id,"_").concat(e))}))}),Object(g.jsxs)("div",{className:e.cardDetails,children:[Object(g.jsxs)(o.a,{variant:"h4",children:["\u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0430 \u0441\u0443\u043c\u0430: \u20b4",c]}),Object(g.jsxs)("div",{children:[Object(g.jsx)(lt.a,{className:e.emptyButton,size:"large",type:"button",variant:"contained",color:"secondary",onClick:function(){return X(t)},children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u0438 \u043a\u043e\u0448\u0438\u043a"}),Object(g.jsx)(lt.a,{component:x.b,to:"/checkout",className:e.checkoutButton,size:"large",type:"button",variant:"contained",color:"primary",children:"\u041e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u043d\u044f \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"})]})]})]})},bt=Object(p.a)((function(t){return{media:{height:260},cardContent:{display:"flex",justifyContent:"space-between"},cartActions:{justifyContent:"space-between"},buttons:{display:"flex",alignItems:"center"}}})),pt=function(t){var e=t.id,n=t.name,c=t.image,a=t.price,r=t.count,i=Object(h.b)(),s=bt();return Object(g.jsxs)(S.a,{children:[Object(g.jsx)(w.a,{image:c,alt:n,className:s.media}),Object(g.jsxs)(E.a,{className:s.cardContent,children:[Object(g.jsx)(o.a,{variant:"h4",children:n}),Object(g.jsxs)(o.a,{variant:"h5",children:["\u20b4",a]})]}),Object(g.jsxs)(C.a,{className:s.cardActions,children:[Object(g.jsxs)("div",{className:s.buttons,children:[Object(g.jsx)(lt.a,{type:"button",size:"small",onClick:function(){return K(i,e,r-1)},children:"-"}),Object(g.jsx)(o.a,{children:r}),Object(g.jsx)(lt.a,{type:"button",size:"small",onClick:function(){return K(i,e,r+1)},children:"+"})]}),Object(g.jsx)(lt.a,{variant:"contained",type:"button",color:"secondary",onClick:function(){return M(i,e)},children:"\u0412\u0438\u0434\u0430\u043b\u0438\u0442\u0438"})]})]})},Ot=n(90),ft=n(203),ht=n(195),mt=n(200),xt=Object(p.a)((function(t){var e;return{appBar:{position:"relative"},toolbar:t.mixins.toolbar,layout:Object(b.a)({marginTop:"5%",width:"auto",marginLeft:t.spacing(2),marginRight:t.spacing(2)},t.breakpoints.up(600+2*t.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:(e={marginTop:t.spacing(3),marginBottom:t.spacing(3),padding:t.spacing(2)},Object(b.a)(e,t.breakpoints.down("xs"),{width:"100%",marginTop:60}),Object(b.a)(e,t.breakpoints.up(600+2*t.spacing(3)),{marginTop:t.spacing(6),marginBottom:t.spacing(6),padding:t.spacing(3)}),e),stepper:{padding:t.spacing(3,0,5)}}})),gt=["\u041e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u043d\u044f \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438","\u041e\u043f\u043b\u0430\u0442\u0430 \u0442\u043e\u0432\u0430\u0440\u0456\u0432"],vt=function(){var t=Object(h.c)((function(t){return t.steps.currentStep})),e=xt();return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:e.toolbar}),Object(g.jsx)("main",{className:e.layout,children:Object(g.jsxs)(Ot.a,{className:e.paper,children:[Object(g.jsx)(o.a,{variant:"h4",align:"center",children:"\u041e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u043d\u044f"}),Object(g.jsx)(ft.a,{activeStep:t,className:e.stepper,children:gt.map((function(t,e){return Object(g.jsx)(ht.a,{children:Object(g.jsx)(mt.a,{children:t})},e)}))}),function(){switch(t){case 0:return Object(g.jsx)(Et,{});case 1:return Object(g.jsx)(Tt,{});case 2:return Object(g.jsx)(Dt,{});default:return Object(g.jsx)(Et,{})}}()]})})]})},yt=n(8),St=n(31),wt=n(50),Et=function(){var t=Object(h.b)(),e=Object(wt.c)(),n=Object(h.c)((function(t){return t.token.id.id})),a=Object(h.c)((function(t){var e=t.countries;return Object.entries(e.countriesList).map((function(t){return t}))})),r=Object(h.c)((function(t){return t.countries.firstCountry})),i=Object(c.useState)(""),s=Object(St.a)(i,2),u=s[0],l=s[1],d=Object(h.c)((function(t){var e=t.subdivisions;return Object.entries(e.subdivisionList).map((function(t){return t}))})),j=Object(h.c)((function(t){return t.subdivisions.firstSubdivision})),b=Object(c.useState)(j),p=Object(St.a)(b,2),O=p[0],f=p[1],m=Object(h.c)((function(t){return t.options})),v=Object(h.c)((function(t){return t.options.firstOption})),S=Object(c.useState)(v),w=Object(St.a)(S,2),E=w[0],C=w[1];return Object(c.useEffect)((function(){l(r)}),[r]),Object(c.useEffect)((function(){f(j)}),[j]),Object(c.useEffect)((function(){C(v)}),[v]),Object(c.useEffect)((function(){u&&Q(t,u[0])}),[u]),Object(c.useEffect)((function(){n&&u&&Y(t,n,u[0],O)}),[O]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(o.a,{variant:"h6",gutterBottom:!0,children:"\u0414\u0430\u043d\u0456 \u0434\u043b\u044f \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u043d\u044f \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"}),Object(g.jsx)(wt.b,Object(yt.a)(Object(yt.a)({},e),{},{children:Object(g.jsxs)("form",{onSubmit:e.handleSubmit((function(e){t(function(t){return{type:"GET_SHIPPING_DATA",payload:t}}(Object(yt.a)(Object(yt.a)({},e),{},{country:u,subdivision:O,option:E}))),t({type:"INCREASE_STEP"})})),children:[Object(g.jsxs)(y.a,{container:!0,spacing:3,children:[Object(g.jsx)(It,{required:!0,name:"firstName",label:"\u0406\u043c'\u044f"}),Object(g.jsx)(It,{required:!0,name:"lastName",label:"\u041f\u0440\u0456\u0437\u0432\u0438\u0449\u0435"}),Object(g.jsx)(It,{required:!0,name:"address1",label:"\u0410\u0434\u0440\u0435\u0441\u0430"}),Object(g.jsx)(It,{required:!0,name:"email",label:"\u041f\u043e\u0448\u0442\u0430"}),Object(g.jsx)(It,{required:!0,name:"city",label:"\u041c\u0456\u0441\u0442\u043e"}),Object(g.jsx)(It,{required:!0,name:"zip",label:"\u041f\u043e\u0448\u0442\u043e\u0432\u0438\u0439 \u0456\u043d\u0434\u0435\u043a\u0441"}),Object(g.jsxs)(y.a,{item:!0,xs:12,xm:6,children:[Object(g.jsx)(R.a,{children:"\u041a\u0440\u0430\u0457\u043d\u0430"}),Object(g.jsx)(D.a,{value:"undefined"!==typeof u&&(u[0]||""),fullWidth:!0,onChange:function(t){return l(a.find((function(e){return t.target.value===e[0]})))},children:a&&a.map((function(t,e){return Object(g.jsx)(A.a,{value:t[0],children:t[1]},"".concat(t[0],"_").concat(e))}))})]}),Object(g.jsxs)(y.a,{item:!0,xs:12,xm:6,children:[Object(g.jsx)(R.a,{children:"\u0420\u0435\u0433\u0456\u043e\u043d/\u043e\u0431\u043b\u0430\u0441\u0442\u044c"}),Object(g.jsx)(D.a,{value:O||"",fullWidth:!0,onChange:function(t){return f(t.target.value)},children:O&&d.map((function(t,e){return Object(g.jsx)(A.a,{value:t[1],children:t[1]},"".concat(t[0],"_").concat(e))}))})]}),Object(g.jsxs)(y.a,{item:!0,xs:12,xm:6,children:[Object(g.jsx)(R.a,{children:"\u0421\u043f\u043e\u0441\u0456\u0431 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"}),Object(g.jsx)(D.a,{value:E.id||"",fullWidth:!0,onChange:function(t){return C(t.target.value)},children:m.items.length&&m.items.map((function(t,e){return Object(g.jsxs)(A.a,{value:t.id,children:[t.description," - \u20b4",t.price.raw]},"".concat(t[0],"_").concat(e))}))})]})]}),Object(g.jsx)("br",{}),Object(g.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(g.jsx)(lt.a,{component:x.b,to:"/cart",variant:"outlined",children:"\u0414\u043e \u043a\u043e\u0448\u0438\u043a\u0430"}),Object(g.jsx)(lt.a,{variant:"outlined",type:"submit",color:"primary",children:"\u0414\u0430\u043b\u0456"})]})]})}))]})},Ct=n(196),_t=n(54),kt=n(87),Tt=function(){var t=Object(h.b)(),e=Object(kt.a)("pk_test_51HvLv9EfsA9lAbX6U759BORLXOthsjgtcLUDguKpkoB6n4Enr1A9iRL7SIkRJuDwAjeGjzcjpmKmUOknBOMsJjK700ppSVpYt2"),n=Object(h.c)((function(t){return t.token.id.id})),c=Object(h.c)((function(t){return t.cart.totalPrice})),a=Object(h.c)((function(t){return t.token.id.live.line_items})),r=Object(h.c)((function(t){return t.userShippingData.data.firstName})),i=Object(h.c)((function(t){return t.userShippingData.data.lastName})),s=Object(h.c)((function(t){return t.userShippingData.data.email})),u=Object(h.c)((function(t){return t.userShippingData.data.address1})),l=Object(h.c)((function(t){return t.userShippingData.data.city})),d=(Object(h.c)((function(t){return t.userShippingData.data.subdivision})),Object(h.c)((function(t){return t.userShippingData.data.zip}))),j=Object(h.c)((function(t){return t.userShippingData.data.country[0]})),b=Object(h.c)((function(t){return t.userShippingData.data.option.id})),p=function(){var e=Object(P.a)(B.a.mark((function e(c,o,p){var O,f,h,m;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),p&&o){e.next=3;break}return e.abrupt("return");case 3:return O=o.getElement(_t.CardElement),e.next=6,p.createPaymentMethod({type:"card",card:O}).catch((function(t){return console.log("\u041f\u043e\u043c\u0438\u043b\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u0440\u0438\u043c\u0430\u043d\u043d\u0456 Stripe: ".concat(t))}));case 6:f=e.sent,(h=f.paymentMethod)&&(m={line_items:a,customer:{firstname:r,lastname:i,email:s},shipping:{name:"Primary",street:u,town_city:l,county_state:"",postal_zip_code:d,country:j},fulfillment:{shipping_method:b},payment:{gateway:"stripe",stripe:{payment_method_id:h.id}}},tt(t,n,m),t({type:"INCREASE_STEP"}));case 9:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{children:[Object(g.jsx)(Ft,{}),Object(g.jsx)(Ct.a,{}),Object(g.jsx)(o.a,{variant:"h6",gutterBottom:!0,style:{margin:"20px 0"},children:"\u0421\u043f\u043e\u0441\u0456\u0431 \u043e\u043f\u043b\u0430\u0442\u0438 (\u0432\u0432\u0435\u0441\u0442\u0438: 4242 4242 4242 4242)"}),Object(g.jsx)(_t.Elements,{stripe:e,children:Object(g.jsx)(_t.ElementsConsumer,{children:function(e){var n=e.elements,a=e.stripe;return Object(g.jsxs)("form",{onSubmit:function(t){return p(t,n,a)},children:[Object(g.jsx)(_t.CardElement,{}),Object(g.jsx)("br",{}),Object(g.jsx)("br",{}),Object(g.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(g.jsx)(lt.a,{variant:"outlined",onClick:function(){return t({type:"REDUCE_STEP"})},children:"\u0414\u043e \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u043d\u044f \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"}),Object(g.jsxs)(lt.a,{type:"submit",variant:"contained",disabled:!a,color:"primary",children:["\u0421\u043f\u043b\u0430\u0442\u0438\u0442\u0438 \u20b4",c]})]})]})}})})]})},Nt=n(197),Rt=Object(p.a)((function(t){return{divider:{margin:"20px 0"},spinner:{display:"flex",justifyContent:"center",alignItems:"center"}}})),Dt=function(){var t=Object(m.f)(),e=Object(h.b)(),n=Rt(),c=Object(h.c)((function(t){return t.order.data.customer})),a=Object(h.c)((function(t){return t.order.data.customer_reference}));return c?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{children:[Object(g.jsxs)(o.a,{variant:"h5",children:["\u0414\u044f\u043a\u0443\u0454\u043c\u043e \u0437\u0430 \u043f\u043e\u043a\u0443\u043f\u043a\u0443, ",c.firstname," ",c.lastname]}),Object(g.jsx)(Ct.a,{className:n.divider}),Object(g.jsxs)(o.a,{variant:"subtitle2",children:["\u041d\u043e\u043c\u0435\u0440 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f: ",a]})]}),Object(g.jsx)("br",{}),Object(g.jsx)(lt.a,{variant:"outlined",type:"button",onClick:function(){return e({type:"CLEAR_STEPS"}),void t.push("/")},children:"\u0414\u043e \u0433\u043e\u043b\u043e\u0432\u043d\u043e\u0457"})]}):Object(g.jsx)("div",{className:n.spinner,children:Object(g.jsx)(Nt.a,{})})},At=n(204),It=function(t){var e=t.name,n=t.label,c=t.required,a=Object(wt.d)().control;return Object(g.jsx)(y.a,{item:!0,xs:12,sm:6,children:Object(g.jsx)(wt.a,{as:At.a,defaultValue:"",control:a,fullWidth:!0,name:e,label:n,required:c})})},Lt=n(190),Bt=n(143),Pt=n(198),Ft=function(){var t=Object(h.c)((function(t){return t.token.id.live.line_items})),e=Object(h.c)((function(t){return t.cart.totalPrice}));return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(o.a,{variant:"h6",gutterBottom:!0,children:"\u041f\u0456\u0434\u0441\u0443\u043c\u043a\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),Object(g.jsxs)(Lt.a,{disablePadding:!0,children:[t.map((function(t,e){return Object(g.jsxs)(Bt.a,{style:{padding:"10px 0"},children:[Object(g.jsx)(Pt.a,{primary:t.name,secondary:"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c: ".concat(t.quantity)}),Object(g.jsxs)(o.a,{variant:"body2",children:["\u20b4",t.line_total.raw]})]},e)})),Object(g.jsxs)(Bt.a,{style:{padding:"10px 0"},children:[Object(g.jsx)(Pt.a,{primary:"\u0421\u0443\u043c\u0430 \u0434\u043e \u0441\u043f\u043b\u0430\u0442\u0438"}),Object(g.jsxs)(o.a,{variant:"subtitle1",style:{fontWeight:700},children:["\u20b4",e]})]})]})]})},Ut=Object(p.a)((function(){return{root:{maxWidth:"600px",width:"100%",margin:"100px auto 0 auto"},media:{height:0,paddingTop:"56.25%"},cardActions:{dispay:"flex",justifyContent:"flex-end"},cardContent:{display:"flex",justifyContent:"space-between"}}})),Wt=function(){var t=Object(h.b)(),e=Ut(),n=Object(m.h)().productId,c=Object(h.c)((function(t){return t.products.items})).find((function(t){return n===t.id}));return console.log(c),c&&Object(g.jsxs)(S.a,{className:e.root,children:[Object(g.jsx)(w.a,{className:e.media,image:c.media.source,title:c.name}),Object(g.jsxs)(E.a,{children:[Object(g.jsxs)("div",{className:e.cardContent,children:[Object(g.jsx)(o.a,{variant:"h5",gutterBottom:!0,children:c.name}),Object(g.jsxs)(o.a,{variant:"h5",children:["\u20b4",c.price.raw]})]}),Object(g.jsx)(o.a,{variant:"body2",color:"textSecondary",children:c.description.replace(/<\/?[a-zA-Z]+>/gi,"")})]}),Object(g.jsx)(C.a,{disableSpacing:!0,className:e.cardActions,children:Object(g.jsx)(u.a,{"aria-label":"Add to Cart",onClick:function(){return J(t,c.id,1)},children:Object(g.jsx)(_.a,{})})})]})},qt=function(){var t=Object(h.b)(),e=Object(h.c)((function(t){return t.cart})),n=Object(h.c)((function(t){return t.cart.items})),a=Object(h.c)((function(t){return t.cart.id})),r=Object(h.c)((function(t){return t.token.id}));return Object(c.useEffect)((function(){et(t),V(t)}),[]),Object(c.useEffect)((function(){n.length&&H(t,a)}),[e]),Object(c.useEffect)((function(){r.id&&Z(t,r.id)}),[r]),Object(g.jsx)(x.a,{basename:"/Shop-with-commerceJS",children:Object(g.jsxs)("div",{children:[Object(g.jsx)(v,{}),Object(g.jsxs)(m.c,{children:[Object(g.jsx)(m.a,{exact:!0,path:"/",children:Object(g.jsx)(at,{})}),Object(g.jsx)(m.a,{path:"/products/:productId",children:Object(g.jsx)(Wt,{})}),Object(g.jsx)(m.a,{exact:!0,path:"/cart",children:Object(g.jsx)(st,{})}),Object(g.jsx)(m.a,{exact:!0,path:"/checkout",children:Object(g.jsx)(vt,{})})]})]})})},Gt=n(35),zt={items:[],isLoaded:!1},Vt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_PRODUCTS":return Object(yt.a)(Object(yt.a)({},t),{},{items:e.payload,isLoaded:!0});case"SET_LOADED_PRODUCTS":return Object(yt.a)(Object(yt.a)({},t),{},{isLoaded:e.payload});default:return t}},Jt={id:"",items:{},totalCount:0,totalPrice:0},Kt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_CART":return Object(yt.a)(Object(yt.a)({},t),{},{id:e.payload.id,items:e.payload.line_items,totalCount:e.payload.total_items,totalPrice:e.payload.subtotal.raw});case"CLEAR_CART":return Object(yt.a)(Object(yt.a)({},t),{},{id:"",items:[],totalCount:0,totalPrice:0});default:return t}},Mt={currentStep:0,stepsQuantity:2},Xt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"INCREASE_STEP":return Object(yt.a)(Object(yt.a)({},t),{},{currentStep:t.currentStep+1});case"REDUCE_STEP":return Object(yt.a)(Object(yt.a)({},t),{},{currentStep:t.currentStep-1});case"CLEAR_STEPS":return Object(yt.a)(Object(yt.a)({},t),{},{currentStep:0});default:return t}},Ht={countriesList:[]},Zt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"GET_COUNTRIES":return Object(yt.a)(Object(yt.a)({},t),{},{firstCountry:Object.entries(e.payload)[0],countriesList:e.payload});default:return t}},Qt={id:{}},Yt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_TOKEN":return Object(yt.a)(Object(yt.a)({},t),{},{id:e.payload});default:return t}},$t={subdivisionList:[],firstSubdivision:""},te=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_SUBDIVISIONS":return Object(yt.a)(Object(yt.a)({},t),{},{subdivisionList:e.payload,firstSubdivision:Object.entries(e.payload)[0][1]});default:return t}},ee={items:[],firstOption:{}},ne=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_OPTIONS":return Object(yt.a)(Object(yt.a)({},t),{},{items:e.payload,firstOption:e.payload[0]});default:return t}},ce={data:""},ae=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"GET_SHIPPING_DATA":return Object(yt.a)(Object(yt.a)({},t),{},{data:e.payload});default:return t}},re={data:{}},ie=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_ORDER":return Object(yt.a)(Object(yt.a)({},t),{},{data:e.payload});case"CLEAR_ORDER":return Object(yt.a)(Object(yt.a)({},t),{},{data:{}});default:return t}},se=n(19),oe={filters:[],activeFilter:"all"},ue=function(t){var e=t.map((function(t){return{slug:t.slug,name:t.name,description:t.description}}));return e=[{slug:"all",name:"\u0423\u0441\u0456",description:""}].concat(Object(se.a)(e))},le=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_FILTERS":return Object(yt.a)(Object(yt.a)({},t),{},{filters:ue(e.payload)});case"SET_ACTIVE_FILTER":return Object(yt.a)(Object(yt.a)({},t),{},{activeFilter:e.payload});default:return t}},de=Object(Gt.c)({products:Vt,cart:Kt,steps:Xt,countries:Zt,token:Yt,subdivisions:te,options:ne,userShippingData:ae,order:ie,filter:le}),je=n(88),be=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Gt.d,pe=Object(Gt.e)(de,be(Object(Gt.a)(je.a)));r.a.render(Object(g.jsx)(h.a,{store:pe,children:Object(g.jsx)(qt,{})}),document.getElementById("root"))}},[[142,1,2]]]);
//# sourceMappingURL=main.5ca073ad.chunk.js.map